{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        tags,\n        largeImageURL,\n        webformatURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery\"><a href=\"${largeImageURL}\" class=\"gallery-link\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"\" class=\"picture\"/>\n      </a>\n      <ul class = \"img-info\">\n      <li class = \"item-info\">Likes<span class = \"info-value\">${likes}</span></li>\n      <li class = \"item-info\">Views<span class = \"info-value\">${views}</span></li>\n      <li class = \"item-info\">Comments<span class = \"info-value\">${comments}</span></li>\n      <li class = \"item-info\">Downloads<span class = \"info-value\">${downloads}</span></li>\n      </ul>\n      </li>\n`\n    )\n    .join('');\n}\n","import { createMarkup } from './render-functions.js';\nimport { gallery } from '../main.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { loadingEl } from '../main.js';\n\nexport function getImges(userSearch = '') {\n  const API_KEY = '43223956-11c63a864af473bf01df350b7';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: userSearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `https://pixabay.com/api/?${params}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      console.log(data);\n      gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n      const lightbox = new SimpleLightbox('.gallery-link');\n      lightbox.refresh();\n    })\n    .catch(data => {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => loadingEl.classList.remove('isactive'));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImges } from './js/pixabay-api';\n\nconst form = document.querySelector('.search-form');\n\nexport const gallery = document.querySelector('.gallery-list');\nexport const loadingEl = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  gallery.innerHTML = '';\n  const userSearch = event.currentTarget.search.value.trim();\n  event.preventDefault();\n\n  loadingEl.classList.add('isactive');\n\n  if (!userSearch.length) {\n    iziToast.error({\n      message: 'Please fill the form!',\n    });\n    loadingEl.classList.remove('isactive');\n  } else {\n    getImges(userSearch).then(() => form.reset());\n  }\n}\n"],"names":["createMarkup","arr","tags","largeImageURL","webformatURL","likes","views","comments","downloads","getImges","userSearch","API_KEY","url","response","data","iziToast","gallery","SimpleLightbox","loadingEl","form","handleSubmit","event"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,KAAAC,EACA,cAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,qCACyBL,CAAa;AAAA,kBAChCC,CAAY,UAAUF,CAAI;AAAA;AAAA;AAAA,gEAGoBG,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA,CAIxE,EACA,KAAK,EAAE,CACZ,CCjBO,SAASC,EAASC,EAAa,GAAI,CACxC,MAAMC,EAAU,qCAQVC,EAAM,4BAPG,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAC6C,GAE9C,OAAO,MAAME,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACPA,EAAK,KAAK,QACbC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EAEH,QAAQ,IAAID,CAAI,EAChBE,EAAQ,mBAAmB,YAAahB,EAAac,EAAK,IAAI,CAAC,EAC9C,IAAIG,EAAe,eAAe,EAC1C,QAAO,CACtB,CAAK,EACA,MAAMH,GAAQ,CACbC,EAAS,MAAM,CACb,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAMG,EAAU,UAAU,OAAO,UAAU,CAAC,CACzD,CCzCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAErCH,EAAU,SAAS,cAAc,eAAe,EAChDE,EAAY,SAAS,cAAc,SAAS,EAEzDC,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BL,EAAQ,UAAY,GACpB,MAAMN,EAAaW,EAAM,cAAc,OAAO,MAAM,OACpDA,EAAM,eAAc,EAEpBH,EAAU,UAAU,IAAI,UAAU,EAE7BR,EAAW,OAMdD,EAASC,CAAU,EAAE,KAAK,IAAMS,EAAK,MAAK,CAAE,GAL5CJ,EAAS,MAAM,CACb,QAAS,uBACf,CAAK,EACDG,EAAU,UAAU,OAAO,UAAU,EAIzC"}