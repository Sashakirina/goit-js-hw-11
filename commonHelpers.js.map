{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        tags,\n        largeImageURL,\n        webformatURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery\"><a href=\"${largeImageURL}\" class=\"gallery-link\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"\" class=\"picture\"/>\n      </a>\n      <ul class = \"img-info\">\n      <li class = \"item-info\">Likes<span class = \"info-value\">${likes}</span></li>\n      <li class = \"item-info\">Views<span class = \"info-value\">${views}</span></li>\n      <li class = \"item-info\">Comments<span class = \"info-value\">${comments}</span></li>\n      <li class = \"item-info\">Downloads<span class = \"info-value\">${downloads}</span></li>\n      </ul>\n      </li>\n`\n    )\n    .join('');\n}\n","import { createMarkup } from './render-functions.js';\nimport { gallery } from '../main.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function getImges(userSearch = '') {\n  const API_KEY = '43223956-11c63a864af473bf01df350b7';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: userSearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `https://pixabay.com/api/?${params}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      console.log(response);\n      return response.json();\n    })\n    .then(data => {\n      gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n      const lightbox = new SimpleLightbox('.gallery-link');\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImges } from './js/pixabay-api';\n\nconst form = document.querySelector('.search-form');\nconsole.log(form);\nconst inputEl = document.querySelector('.search-input');\nexport const gallery = document.querySelector('.gallery-list');\nconst loadingEl = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  gallery.innerHTML = '';\n  const userSearch = event.currentTarget.search.value.trim();\n  event.preventDefault();\n\n  loadingEl.classList.add('isactive');\n\n  if (!userSearch.length) {\n    {\n      iziToast.error({\n        message: 'Please fill the form!',\n      });\n    }\n  } else {\n    getImges(userSearch).then(() => form.reset());\n  }\n  loadingEl.classList.remove('isactive');\n}\n"],"names":["createMarkup","arr","tags","largeImageURL","webformatURL","likes","views","comments","downloads","getImges","userSearch","API_KEY","url","response","data","gallery","SimpleLightbox","error","iziToast","form","loadingEl","handleSubmit","event"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,KAAAC,EACA,cAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,qCACyBL,CAAa;AAAA,kBAChCC,CAAY,UAAUF,CAAI;AAAA;AAAA;AAAA,gEAGoBG,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA,CAIxE,EACA,KAAK,EAAE,CACZ,CClBO,SAASC,EAASC,EAAa,GAAI,CACxC,MAAMC,EAAU,qCAQVC,EAAM,4BAPG,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAC6C,GAE9C,OAAO,MAAME,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,eAAQ,IAAIA,CAAQ,EACbA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZC,EAAQ,mBAAmB,YAAaf,EAAac,EAAK,IAAI,CAAC,EAC9C,IAAIE,EAAe,eAAe,EAC1C,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,QACE,0EACV,CAAO,CACP,CAAK,CACL,CClCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAClD,QAAQ,IAAIA,CAAI,EACA,SAAS,cAAc,eAAe,EAC/C,MAAMJ,EAAU,SAAS,cAAc,eAAe,EACvDK,EAAY,SAAS,cAAc,SAAS,EAElDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BP,EAAQ,UAAY,GACpB,MAAML,EAAaY,EAAM,cAAc,OAAO,MAAM,OACpDA,EAAM,eAAc,EAEpBF,EAAU,UAAU,IAAI,UAAU,EAE7BV,EAAW,OAOdD,EAASC,CAAU,EAAE,KAAK,IAAMS,EAAK,MAAK,CAAE,EAL1CD,EAAS,MAAM,CACb,QAAS,uBACjB,CAAO,EAKLE,EAAU,UAAU,OAAO,UAAU,CACvC"}